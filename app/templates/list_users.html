{% extends "base.html" %}
{% import "_macros.html" as macros %}

{% block title %}{{ config['APP_NAME'] }} - List users{% endblock %}

{% block page_content %}

<div class="page-header">
    <h1>List users</h1>
</div>

<div class="col-md-12">

{% if users %}
    <table class="table table-condensed table-hover">
        <thead>
            <tr>
                <th></th>
                <th>Email</th>
                <th>Username</th>
                <th>Real name</th>
                <th>Role</th>
                <th>Confirmed</th>
                <th>Member since</th>
                <th>Last seen</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr class="clickable-row">
                <td><img src="{{ user.gravatar(size=18) }}"></td>
                <td>
                     <a href="{{ url_for('main.user', username=user.username) }}"></a>
                    {{ user.email }}
                </td>
                <td>{{ user.username or '' }}</td>
                <td>{{ user.name or '' }}</td>
                <td>{{ user.role.name }}</td>
                <td>{{ user.confirmed }}</td>
                <td>{{ user.member_since }}</td>
                <td>{{ user.last_seen }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endif %}

{% if pagination %}
<div class="text-center">
    {{ macros.pagination_widget(pagination, '.list_users') }}
</div>
{% endif %}

</div>

{% endblock %}
